#!/bin/sh

chosen="$(rofi -dmenu -i -l 20 -p "pick an emoji > " <"${XDG_DATA_HOME}/emoji")"

[ "$chosen" != "" ] || exit

c="$(echo "$chosen" | sed "s/ .*//")"
# copy to both clipboards
printf "%s" "$c" | xclip                      # paste with middle click
printf "%s" "$c" | xclip -selection clipboard # paste with typical ctrl v

msg="'$c' copied to clipboard"

if [ "$(tty)" = "not a tty" ]; then
	notify-send "'$c' copied to clipboard." &
else
	echo "$msg"
fi
