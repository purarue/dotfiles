#!/bin/bash
# generates a password and puts it on your clipboard
# uses https://github.com/seanbreckenridge/genpasswd
if ! pw=$(genpasswd "$@"); then
	echo "$pw" >&2
	exit 1
fi
pw=$(head -n 1 <<<"$pw")
if [[ "$(tty)" == "not a tty" ]]; then
	# send notification and copy to clipboard
	clp <<<"Copied password to clipboard: ${pw}"
else
	echo -e "$pw"
fi
# copy password (clp copies the text as well)
clipcopy <<<"$pw"
