# fuzzy search for files and cd to the enclosing directory

function fzffd() {
  local FZFFOUNDFILENAME="$(fd -L -H | fzf +m --preview='${HOME}/.config/fzf_preview {}')"
  # go to directory if its a directory, else go to enclosing directory
  if [ -d "$FZFFOUNDFILENAME" ]; then
    cd "$FZFFOUNDFILENAME"
  else
    cd "$(dirname "$FZFFOUNDFILENAME")"
  fi
  zle reset-prompt  # so that PS1 updates
}

