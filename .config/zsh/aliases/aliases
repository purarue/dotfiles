#!/bin/zsh

# automatically open certain file types by just
# typing the name as a command
alias -s {md,html,txt}=nvim

# save ls so it can be used elsewhere if I want
alias lsplain='command ls --color=never'
alias eza-defaults='eza --git --octal-permissions --header --group-directories-first'
# alias ls to exa
case "$ON_OS" in
mac* | android*)
	# icons dont work some operating systems
	alias ls='eza-defaults'
	;;
*)
	alias ls='eza-defaults --icons'
	;;
esac
alias treel='ls -T --git-ignore'
alias ll='ls -hl'
alias la='ll -a'
alias sl='ls'
alias dc='cd' # never going to use the reverse-polish calculator, is *always* a typo

alias ccat='/bin/cat'

# yadm aliases to work like git aliases, to manage dotfiles
alias yds='yadm diff --staged'
alias yst='yadm status'
alias yd='yadm diff'
alias ysu='yadm status -u'
alias ya='yadm add'
alias yA='yadm add --all'
alias yc='yadm commit'
alias yp='yadm push'
alias yl='yadm pull --recurse-submodules'
alias yrh='yadm reset'
alias yrhh='yadm reset --hard'
alias ylols='yadm log --graph --pretty='\''%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)<%an>%Creset'\'' --stat'
ydh() {
	yadm diff HEAD~"${1:-1}"
}
ycp() {
	if (($# == 0)); then
		yadm commit && yadm push
	else
		yadm commit -m "$*" && yadm push
	fi
}
ydsd() {
	yds "$@" | dunk | less -R
}

ydd() {
	yd "$@" | dunk | less -R
}
ydhd() {
	ydh "$@" | dunk | less -R
}

alias e='editor'

# Shorthands, or adding some default flags to utilities
alias 'xargsl=xargs -I {} sh -c' # line-based xargs
alias 'cp=cp -v'
alias 'curl=curl -s'
alias 'less=less -i'
alias 'lessansi=less -R'
alias 'taill=tail -n 50'
alias dr='dragon-drop'
alias drx='dragon-drop -x'
alias du='du -hL'
alias df='df -h'
alias jq='jq -M'
alias history='history 0'
alias todo='todo.sh'
alias free='free -h'
rgi() {
	rg -i "$*"
}
alias ft='full_todotxt'
alias rr='rifle'
alias optipng='optipng -o5'
alias R=ranger
alias sz='mystarsfzf'
alias sr='sreminders'
alias nr='neomuttr'
alias urban='udict'
alias xxd='hexyl'
alias calc='ipython3 --profile=calculator'
alias c=calc_ans_rlwrap
alias 'countdown=termdown'
# shorthand for copying to clipboard
alias cl='clipcopy'
# https://sean.fish/d/misspell-context
alias spell='misspell-context'
alias 'ml=mailsync-loop'
alias 'confirm=fzf -m'
alias 'up=TERM=xterm up'
alias screens='cd $SCREENSHOTS'

alias rrm='command rm'
# trash-cli/rmtrash
# dont use trash-cli/rmtrash on android, doesnt work
alias rm='saferm'
[[ "$ON_OS" =~ ^android.* ]] || {
	alias rmdir='rmdirtrash'
}

# kitty
alias d="kitty +kitten diff"

# background jobs
alias sctl='super --ctl'
alias slogs='super --logs'

# shorthands to edit files
alias td='editor "$TODO_DIR"/todo.txt'     # todos
alias rss='editor ~/.config/newsboat/urls' # rss feeds

# custom non-standard stuff
# shorthand for reverse of https://sean.fish/d/star?dark
unstar() {
	star "$1" DELETE
}
rt() {
	# search rotten tomatoes
	rotten search "$*"
}
# create a notes file in the current directory
alias create-note='touch "$(daystamp_).md"'
# pipe some command into stripcolors, removes any ANSI color codes
alias stripcolors="sed 's/\x1B\[[0-9;]\+[A-Za-z]//g'"
alias '?=duck'                                         # alias ? to duck, searches duckduckgo in lynx
alias tetris='autoload -Uz tetriscurses; tetriscurses' # tetris in zsh!
alias rgf='rg --files | rg'                            # search against filepaths with rg
# start a server to test HTTP requests against
alias httpbin='docker run -p 80:80 kennethreitz/httpbin'

# stop import from crashing my system for some reason
alias 'import=printf "Use /usr/bin/import instead\n"'
