#!/usr/bin/env sh

usage="Usage:
    average [-h]
    average FILES...

uses the duration script to get the average duration
in seconds of files given on command line

Example usage:
  average ~/Music/some_album/*"

if [ "$1" = "-h" ] || [ "$1" = "-help" ] || [ "$1" = "--help" ] || [ -z "$1" ]; then
	echo "$usage"
	exit 0
fi

duration "$@" | cut -d"s" -f1 | awk '{total += $1} END {printf "%ds\n", total/NR}'
